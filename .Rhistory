labeller = as_labeller(ac_group)) +
scale_fill_manual(values = rep("#4739a2",
length(labels.challenges)),
labels = labels.challenges) +
ylim(0, 30) +
labs(title = paste0("Challenges of co-creating digital health interventions"),
subtitle = "Bar chart of challenges for case A between stakeholder groups",
caption = "Data source: Case study",
fill = "Challenges") +
xlab("Challenges") +
ylab("Percentage") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
legend.key = element_rect(color = NA),
legend.key.width = unit(0, "pt"),
legend.spacing.x = unit(0, "pt"))
ggplot(challenges_ac_table_A,
aes(reorder_within(code,
-percentage,
academic),
y = percentage,
fill = code)) +
geom_bar(key_glyph = draw_key_blank, stat = "identity") +
facet_grid(~academic,
labeller = as_labeller(ac_group)) +
scale_fill_manual(values = rep("#4739a2",
length(labels.challenges)),
labels = labels.challenges) +
ylim(0, 30) +
labs(title = paste0("Challenges of co-creating digital health interventions"),
subtitle = "Bar chart of challenges for case A between stakeholder groups",
caption = "Data source: Case study",
fill = "Challenges") +
xlab("Challenges") +
ylab("Percentage") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
legend.key = element_rect(color = NA),
legend.key.width = unit(0, "pt"),
legend.spacing.x = unit(0, "pt"))
ggplot(challenges_ac_table_A,
aes(reorder_within(code,
-percentage,
academic),
y = percentage,
fill = code)) +
geom_bar(key_glyph = draw_key_blank, stat = "identity") +
facet_grid(~academic,
scales = 'free_x',
labeller = as_labeller(ac_group)) +
scale_fill_manual(values = rep("#4739a2",
length(labels.challenges)),
labels = labels.challenges) +
ylim(0, 30) +
labs(title = paste0("Challenges of co-creating digital health interventions"),
subtitle = "Bar chart of challenges for case A between stakeholder groups",
caption = "Data source: Case study",
fill = "Challenges") +
xlab("Challenges") +
ylab("Percentage") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
legend.key = element_rect(color = NA),
legend.key.width = unit(0, "pt"),
legend.spacing.x = unit(0, "pt"))
ggplot(challenges_ac_table_A,
aes(reorder_within(code,
-percentage,
academic),
y = percentage,
fill = code)) +
geom_bar(key_glyph = draw_key_blank, stat = "identity") +
facet_grid(~academic,
scales = 'free_x') +
scale_fill_manual(values = rep("#4739a2",
length(labels.challenges)),
labels = labels.challenges) +
ylim(0, 30) +
labs(title = paste0("Challenges of co-creating digital health interventions"),
subtitle = "Bar chart of challenges for case A between stakeholder groups",
caption = "Data source: Case study",
fill = "Challenges") +
xlab("Challenges") +
ylab("Percentage") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
legend.key = element_rect(color = NA),
legend.key.width = unit(0, "pt"),
legend.spacing.x = unit(0, "pt"))
ggplot(challenges_ac_table_A,
aes(reorder_within(code,
-percentage,
academic),
y = percentage,
fill = code)) +
geom_bar(key_glyph = draw_key_blank, stat = "identity") +
facet_grid(~academic,
scales = 'free_x',
labeller = as_labeller(ac_group)) +
scale_x_reordered() +
scale_fill_manual(values = rep("#4739a2",
length(labels.challenges)),
labels = labels.challenges) +
ylim(0, 30) +
labs(title = paste0("Challenges of co-creating digital health interventions"),
subtitle = "Bar chart of challenges for case A between stakeholder groups",
caption = "Data source: Case study",
fill = "Challenges") +
xlab("Challenges") +
ylab("Percentage") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
legend.key = element_rect(color = NA),
legend.key.width = unit(0, "pt"),
legend.spacing.x = unit(0, "pt"))
ggplot(challenges_ac_table_B,
aes(reorder_within(code,
-percentage,
academic),
y = percentage,
fill = code)) +
geom_bar(key_glyph = draw_key_blank, stat = "identity") +
facet_grid(~academic,
scales = 'free_x',
labeller = as_labeller(ac_group)) +
scale_x_reordered() +
scale_fill_manual(values = rep("#4739a2",
length(labels.challenges)),
labels = labels.challenges) +
ylim(0, 30) +
labs(title = paste0("Challenges of co-creating digital health interventions"),
subtitle = "Bar chart of challenges for case B between stakeholder groups",
caption = "Data source: Case study",
fill = "Challenges") +
xlab("Challenges") +
ylab("Percentage") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
legend.key = element_rect(color = NA),
legend.key.width = unit(0, "pt"),
legend.spacing.x = unit(0, "pt"))
ggplot(challenges_ac_table_C,
aes(reorder_within(code,
-percentage,
academic),
y = percentage,
fill = code)) +
geom_bar(key_glyph = draw_key_blank, stat = "identity") +
facet_grid(~academic,
scales = 'free_x',
labeller = as_labeller(ac_group)) +
scale_x_reordered() +
scale_fill_manual(values = rep("#4739a2",
length(labels.challenges)),
labels = labels.challenges) +
ylim(0, 30) +
labs(title = paste0("Challenges of co-creating digital health interventions"),
subtitle = "Bar chart of challenges for case C between stakeholder groups",
caption = "Data source: Case study",
fill = "Challenges") +
xlab("Challenges") +
ylab("Percentage") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
legend.key = element_rect(color = NA),
legend.key.width = unit(0, "pt"),
legend.spacing.x = unit(0, "pt"))
challenges_C_ac_table <-
as.data.frame(
table(challenges_C$academic,
challenges_C$code_number))
challenges_C_ac_table
# facilitators-case
facilitators_dt_case_A <- facilitators_dt_case[facilitators_dt_case$case == "A", ]
facilitators_dt_case_B <- facilitators_dt_case[facilitators_dt_case$case == "B", ]
facilitators_dt_case_C <- facilitators_dt_case[facilitators_dt_case$case == "C", ]
plot_facilitators_A <-
ggplot(facilitators_dt_case_A,
aes(reorder(code,
-percentage),
y = percentage,
fill = code)) +
geom_bar(key_glyph = draw_key_blank, stat = "identity") +
scale_fill_manual(values = rep("#4739a2",
length(labels.facilitators)),
labels = labels.facilitators) +
ylim(0, 30) +
labs(title = paste0("Facilitators of co-creating digital health interventions"),
subtitle = "Bar chart of facilitators for case A",
caption = "Data source: Case study",
fill = "Facilitators") +
xlab("Facilitators") +
ylab("Percentage") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
legend.key = element_rect(color = NA),
legend.key.width = unit(0, "pt"),
legend.spacing.x = unit(0, "pt"))
labels.facilitators <- c(F01 = 'F01 = Institutional support',
F02 = 'F02 = Seek guidance',
F03 = 'F03 = Co-creator exchanges',
F04 = 'F04 = Tailored spaces',
F05 = 'F05 = Orientation',
F06 = 'F06 = Training',
F07 = 'F07 = Continuous involvement',
F08 = 'F08 = Leverage strengths',
F09 = 'F09 = Delegate research tasks',
F10 = 'F10 = Adaptive process',
F11 = 'F11 = Transparent communication',
F12 = 'F12 = Needs analysis',
F13 = 'F13 = Ownership',
F14 = 'F14 = Acknowledging co-creators',
F15 = 'F15 = Broad recruitment',
F16 = 'F16 = Targeted recruitment',
F17 = 'F17 = Facilitation strategies',
F18 = 'F18 = Documentation',
F19 = 'F19 = Conflict management',
F20 = 'F20 = Feasible design',
F21 = 'F21 = Trust and dependability',
F22 = 'F22 = Prior relationship',
F23 = 'F23 = Prototype or demo',
F24 = 'F24 = Top-down management',
F25 = 'F25 = Other')
plot_facilitators_A <-
ggplot(facilitators_dt_case_A,
aes(reorder(code,
-percentage),
y = percentage,
fill = code)) +
geom_bar(key_glyph = draw_key_blank, stat = "identity") +
scale_fill_manual(values = rep("#4739a2",
length(labels.facilitators)),
labels = labels.facilitators) +
ylim(0, 30) +
labs(title = paste0("Facilitators of co-creating digital health interventions"),
subtitle = "Bar chart of facilitators for case A",
caption = "Data source: Case study",
fill = "Facilitators") +
xlab("Facilitators") +
ylab("Percentage") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
legend.key = element_rect(color = NA),
legend.key.width = unit(0, "pt"),
legend.spacing.x = unit(0, "pt"))
plot_facilitators_A
plot_facilitators_B <-
ggplot(facilitators_dt_case_B,
aes(reorder(code,
-percentage),
y = percentage,
fill = code)) +
geom_bar(key_glyph = draw_key_blank, stat = "identity") +
scale_fill_manual(values = rep("#4739a2",
length(labels.facilitators)),
labels = labels.facilitators) +
ylim(0, 30) +
labs(title = paste0("Challenges of co-creating digital health interventions"),
subtitle = "Bar chart of facilitators for case B",
caption = "Data source: Case study",
fill = "Challenges") +
xlab("Challenges") +
ylab("Percentage") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
legend.key = element_rect(color = NA),
legend.key.width = unit(0, "pt"),
legend.spacing.x = unit(0, "pt"))
plot_facilitators_B
plot_facilitators_A
plot_facilitators_B
plot_facilitators_C <-
ggplot(facilitators_dt_case_C,
aes(reorder(code,
-percentage),
y = percentage,
fill = code)) +
geom_bar(key_glyph = draw_key_blank, stat = "identity") +
scale_fill_manual(values = rep("#4739a2",
length(labels.facilitators)),
labels = labels.facilitators) +
ylim(0, 30) +
labs(title = paste0("Facilitators of co-creating digital health interventions"),
subtitle = "Bar chart of facilitators for case C",
caption = "Data source: Case study",
fill = "Facilitators") +
xlab("Facilitators") +
ylab("Percentage") +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black"),
plot.title = element_text(color = "#2F2E41", size = 12, face = "bold"),
plot.subtitle = element_text(color = "#454543"),
plot.caption = element_text(color = "#454543", face = "italic"),
legend.key = element_rect(color = NA),
legend.key.width = unit(0, "pt"),
legend.spacing.x = unit(0, "pt"))
plot_facilitators_C
renv::snapshot()
source("R/00_load_functions.R")
source("R/00_load_package.R")
source("R/00_load_functions.R")
source("R/00_load_packages.R")
renv::install()
source("R/00_load_packages.R")
source("R/01_load_data.R")
source("R/02_data_processing.R")
source("R/03_derive_tables.R")
## ---- visualise-codes
source("R/04_create_plot_labels.R")
source("R/05_visualise_challenges.R")
source("R/05_visualise_facilitators.R")
ggsave("output/plot_challenges_A.png",
plot = plot_challenges_A,
width = 500,
heigh = 500,
unit = "mm",
dpi = 300)
plot_challenges_A
plot_challenges_B
plot_challenges_C
plot_facilitators_A
plot_facilitators_B
plot_facilitators_C
library(Gmisc, quietly = TRUE)
library(glue)
library(htmlTable)
library(grid)
library(magrittr)
library(Gmisc, quietly = TRUE)
library(glue)
library(htmlTable)
library(grid)
library(magrittr)
library(data.table)
profile_A <- boxGrob(glue("Co-creation profile",
"Source = Template",
.sep = "\n"))
exp_A <- boxGrob(glue("Co-creation experience",
"Source = Interview",
"n = {pop}",
pop = txtInt(5),
.sep = "\n"))
effectiveness_A <- boxGrob(glue("Effectiveness of co-creation approaches",
"Source = Interview",
.sep = "\n"))
grid.newpage()
case_A_flow <- spreadVertical(profile_A = profile_A,
exp_A = exp_A,
effectiveness_A = effectiveness_A)
for (i in 1:(length(case_A_flow) - 1)) {
connectGrob(case_A_flow[[i]], case_A_flow[[i + 1]], type = "vert") %>%
print
}
case_A_flow
profile_B <- boxGrob(glue("Co-creation profile",
"Source = Template",
.sep = "\n"))
exp_B_one <- boxGrob(glue("Co-creation experience",
"Source = Interview",
"n = {pop}",
pop = txtInt(1),
.sep = "\n"))
exp_B_two <- boxGrob(glue("Co-creation experience",
"Source = Survey items",
"n = {pop}",
pop = txtInt(5),
.sep = "\n"))
effectiveness_B <- boxGrob(glue("Effectiveness of co-creation approaches",
"Source = Interview + Email",
.sep = "\n"))
grid.newpage()
case_B_flow <- spreadVertical(profile_B = profile_B,
exp_B_one = exp_B_one,
exp_B_two = exp_B_two,
effectiveness_B = effectiveness_B)
for (i in 1:(length(case_B_flow) - 1)) {
connectGrob(case_B_flow[[i]], case_B_flow[[i + 1]], type = "vert") %>%
print
}
case_B_flow
profile_C <- boxGrob(glue("Co-creation profile",
"Source = Template + Researcher guidance",
.sep = "\n"))
exp_C_one <- boxGrob(glue("Co-creation experience",
"Source = Interview",
"n = {pop}",
pop = txtInt(1),
.sep = "\n"))
exp_C_two <- boxGrob(glue("Co-creation experience",
"Source = Survey items",
"n = {pop}",
pop = txtInt(5),
.sep = "\n"))
effectiveness_C <- boxGrob(glue("Effectiveness of co-creation approaches",
"Source = Interview + Email",
.sep = "\n"))
grid.newpage()
case_C_flow <- spreadVertical(profile_C = profile_C,
exp_C_one = exp_C_one,
exp_C_two = exp_C_two,
effectiveness_C = effectiveness_C)
for (i in 1:(length(case_C_flow) - 1)) {
connectGrob(case_C_flow[[i]], case_C_flow[[i + 1]], type = "vert") %>%
print
}
case_C_flow
case_A_flow
dev.off()
case_A_flow
dev.off()
profile_A <- boxGrob(glue("Co-creation profile",
"Source = Template",
.sep = "\n"))
exp_A <- boxGrob(glue("Co-creation experience",
"Source = Interview",
"n = {pop}",
pop = txtInt(5),
.sep = "\n"))
effectiveness_A <- boxGrob(glue("Effectiveness of co-creation approaches",
"Source = Interview",
.sep = "\n"))
grid.newpage()
case_A_flow <- spreadVertical(profile_A = profile_A,
exp_A = exp_A,
effectiveness_A = effectiveness_A)
for (i in 1:(length(case_A_flow) - 1)) {
connectGrob(case_A_flow[[i]], case_A_flow[[i + 1]], type = "vert") %>%
print
}
case_A_flow
profile_B <- boxGrob(glue("Co-creation profile",
"Source = Template",
.sep = "\n"))
exp_B_one <- boxGrob(glue("Co-creation experience",
"Source = Interview",
"n = {pop}",
pop = txtInt(1),
.sep = "\n"))
exp_B_two <- boxGrob(glue("Co-creation experience",
"Source = Survey items",
"n = {pop}",
pop = txtInt(5),
.sep = "\n"))
effectiveness_B <- boxGrob(glue("Effectiveness of co-creation approaches",
"Source = Interview + Email",
.sep = "\n"))
grid.newpage()
case_B_flow <- spreadVertical(profile_B = profile_B,
exp_B_one = exp_B_one,
exp_B_two = exp_B_two,
effectiveness_B = effectiveness_B)
for (i in 1:(length(case_B_flow) - 1)) {
connectGrob(case_B_flow[[i]], case_B_flow[[i + 1]], type = "vert") %>%
print
}
case_B_flow
profile_C <- boxGrob(glue("Co-creation profile",
"Source = Template + Researcher guidance",
.sep = "\n"))
exp_C_one <- boxGrob(glue("Co-creation experience",
"Source = Interview",
"n = {pop}",
pop = txtInt(1),
.sep = "\n"))
exp_C_two <- boxGrob(glue("Co-creation experience",
"Source = Survey items",
"n = {pop}",
pop = txtInt(5),
.sep = "\n"))
effectiveness_C <- boxGrob(glue("Effectiveness of co-creation approaches",
"Source = Interview + Email",
.sep = "\n"))
grid.newpage()
case_C_flow <- spreadVertical(profile_C = profile_C,
exp_C_one = exp_C_one,
exp_C_two = exp_C_two,
effectiveness_C = effectiveness_C)
for (i in 1:(length(case_C_flow) - 1)) {
connectGrob(case_C_flow[[i]], case_C_flow[[i + 1]], type = "vert") %>%
print
}
case_C_flow
